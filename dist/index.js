function d(j){let G={init:"{",end:"}"};if(j.replacement)if(typeof j.replacement==="string"){if(j.replacement.match(/x/)){const[N,J]=j.replacement.split("x");G.init=N,G.end=J}else if(j.replacement.length%2===0)G.init=j.replacement.slice(0,j.replacement.length/2),G.end=j.replacement.slice(j.replacement.length/2)}else G.init=j.replacement.init,G.end=j.replacement.end;const z=j.locales,E=Object.keys(z),K=j.defaultLocale&&typeof j.defaultLocale==="string"?j.defaultLocale:E[0],O=z[K],S=Object.keys(O),C=S[0],T=Object.keys(z),q=T[0];let X=j.query||K;const V={allowedLocale:q,pages:S,page:C};let Y=()=>X,F=(A)=>X=A;if(j.state)Y=j.state.getState,F=(A)=>{return X=A,j.state?.setState(A)};function Z(A,N,J,Q){const R=Q||Y();let I=z[R]?.[A]?.[N];const U=O[A][N];if(!I)I=j.onNotTranslation?j.onNotTranslation(U,A,String(N),R,J):U;let _=typeof I=="object"&&!Array.isArray(I)?I.base:I,B=typeof _=="string"?[_]:_,W={...typeof I=="string"?{}:I.values,...J||{}};if(Object.keys(W).forEach((D,P)=>{B=B.map(($)=>$.replaceAll(`${G.init}${D}${G.end}`,String(W[D])))}),j.onTranslation)B=B.map((D)=>j.onTranslation?j.onTranslation(D,{queryLanguage:R,queryPage:A,queryKey:String(N),original:U,placeholderVariables:W}):D);let M=B;if(!j.disableOutputDetails){if(M=B.map((D)=>Object.assign(new Object(D),{from:K,raw:D,to:R,query:R,page:A,key:N,original:typeof U=="object"?U:{base:U},variables:W})),B.length>1)M=M.map((D,P)=>Object.assign(new Object(D),{use:($,m)=>{return Z(A,N,{...W,...$},m)[P]}}))}if(B.length>1)return Object.assign(M,{from:K,raw:B[0],to:R,query:R,page:A,key:N,original:typeof U=="object"?U:{base:U},variables:W});else return M[0]}function H(A,N,J){if(!A)return"\uD83D\uDD51";let Q;if(Number(A)!=NaN)Q=new Date(A);else Q=new Date(Number(A));N=N||"md";let R=typeof N!="string"?N:{};switch(N){case"xs":R=j.timeFormatOptions?.xs||{minute:"2-digit",second:"2-digit"};break;case"sm":R=j.timeFormatOptions?.sm||{hour:"numeric",minute:"2-digit",hour12:!0};break;case"md":R=j.timeFormatOptions?.md||{hour:"numeric",minute:"2-digit",hour12:!0,day:"numeric",month:"2-digit"};break;case"lg":R=j.timeFormatOptions?.lg||{dateStyle:"long"};break;case"xl":R=j.timeFormatOptions?.xl||{hour:"numeric",minute:"2-digit",hour12:!1,day:"numeric",month:"long",year:"numeric"};break}try{return new Intl.DateTimeFormat(J||Y(),R).format(Q).replaceAll("\u202F"," ")}catch(I){return(j.onFail||(()=>"\u26A0\uFE0F"))(I)}}const w=Object.assign(H,{now:Object.assign(()=>H(Date.now(),"md"),{use:(A,N)=>H(Date.now(),A,N)})});function u(A,N,J){F(N||X);const Q=J||{};let R=new Object(Z);Object.keys(O).forEach((_)=>{const B=_;R[B]=new Object((W,M,D)=>{return Z(B,W,{...Q,...M},D)}),Object.keys(O[B]).forEach((W)=>{const M=W,D=z[Y()][B][M];R[B][M]=Object.assign(Z(B,M,Q),{use:(P,$)=>Z(B,M,{...Q,...P},$),values:typeof D!="string"?D.values:{}})})});const I=R;return{t:Object.assign(R[A],{g:I,time:w,intl:Intl,locale:Y()}),g:I,time:w,intl:Intl,i:Intl,locale:Y(),locales:E,types:V}}function x(A){return F(A||X),{useTranslation:(N,J)=>u(N,A||X,J)}}function h(A){return L(A,E)}function v(A){return y(A,E)}function b(A){return(N,J,Q)=>{return x(Q||A()).useTranslation(N,J)}}return{time:H,pages:S,page:C,defaultLocale:K,main:K,locales:T,locale:q,translations:z,translation:x,useTime:w,translationFromCallback:b,getLocaleFromHeaders:h,getLocaleFromPathname:v,types:V}}function y(j,G){const E=j.split("/")[1].split("-")[0].toLowerCase();if(G.includes(E))return E;return G[0]}function L(j,G){let z={};const E=G.map((K)=>{return z[K]=0,K});return j.get("accept-language")?.toLowerCase().split(";").map((K)=>K.includes(",")?E.map((O)=>K.includes(O.toLowerCase())?z[O]++:""):K.split(",").map((O)=>E.map((S)=>O.includes(S.toLowerCase())?z[S]=z[S]+0.5:""))),j.get("referer")?.split("/")[3].toLowerCase().split("0").map((K)=>K.split("-")[0].length==2&&E.map((O)=>K.includes(O.toLowerCase())?z[O]=z[O]+2:"")),j.get("cookie")?.split(";").filter((K)=>K.match(/(locale|LOCALE|lang)/gi)).map((K)=>K.split("=")[1].toLowerCase().split("0").map((O)=>E.map((S)=>O.includes(S.toLowerCase())?z[S]++:""))),Object.keys(z).map((K,O)=>E[O]={locale:K,count:z[K]}),E.sort((K,O)=>O.count-K.count)[0]?.locale}export{y as getLocaleFromPathname,L as getLocaleFromHeaders,d as createTranslation};